<div class="d-flex flex-column min-vh-100">
  <!-- Navbar -->
  <app-navbar></app-navbar>

  <!-- Carousel Section -->
  <div class="container-fluid px-0">
    <app-carousel-basic></app-carousel-basic>
  </div>

  <div class="d-flex flex-grow-1 position-relative">
    <!-- Sidebar -->
    <app-sidebar
      class="flex-shrink-0"
      [class.w-64]="sidebarExpanded"
      (mouseenter)="sidebarExpanded = true"
      (mouseleave)="sidebarExpanded = false"
    ></app-sidebar>

    <!-- ✅ Dark overlay (only visible when sidebarExpanded = true) -->
    <div 
      class="sidebar-overlay"
      *ngIf="sidebarExpanded"
      (click)="sidebarExpanded = false"
    ></div>

    <!-- Main content -->
    <div
      class="home-container flex-grow-1 container my-5"
      [class.sidebar-expanded]="sidebarExpanded"
    >
      <h2 class="subtitle text-center fw-semibold mb-4">
        Featured Products
      </h2>

      <!-- Add banner/image below the title -->
      <div class="featured-banner text-center mb-4">
        <img 
          src="https://rukminim2.flixcart.com/fk-p-flap/3240/540/image/707b1aae8941c3cc.jpg?q=60" 
          alt="Featured Banner" 
          class="img-fluid rounded" 
        />
      </div>

      <div class="products row g-4 justify-content-center">
        <div
          *ngFor="let prod of products"
          class="col-12 col-sm-6 col-md-4 col-lg-3"
        >
          <div class="product-card card h-100 shadow-sm text-center">
            <img
              [src]="prod.imageUrl"
              [alt]="prod.name"
              class="product-img card-img-top p-3"
            />
            <div class="card-body d-flex flex-column">
              <h3 class="product-name h6">{{ prod.name }}</h3>
              <p class="product-category text-muted small mb-1">
                {{ prod.category }}
              </p>
              <p class="product-price fw-bold text-success mb-3">
                ₹{{ prod.price }}
              </p>
              <button class="btn btn-sm btn-primary mt-auto">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <app-footer></app-footer>
</div>
